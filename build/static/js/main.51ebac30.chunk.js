(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,n,t){e.exports=t(56)},30:function(e,n,t){},31:function(e,n,t){},56:function(e,n,t){"use strict";t.r(n);var a=t(1),o=t.n(a),r=t(3),c=t.n(r),i=(t(30),t(6)),l=t(23),s=t(7),u=(t(31),t(20)),d=t(5),f=t.n(d),m={add:function(e){return f.a.post("/todos",{name:e}).then(function(e){return e.data})},get:function(){return f.a.get("/todos").then(function(e){return e.data})},toggle:function(e,n){return f.a.put("".concat("/todos","/").concat(e),{completed:n}).then(function(e){return e.data})}},p=t(9),g=(t(49),function(){return o.a.createElement("div",{className:"loading"},o.a.createElement("i",{className:"fas fa-circle-notch fa-spin fa-3x"}))});var h=function(){var e=Object(a.useState)(!1),n=Object(s.a)(e,2),t=n[0],r=n[1],c=Object(a.useState)(!1),d=Object(s.a)(c,2),f=(d[0],d[1]),h=Object(a.useState)([]),v=Object(s.a)(h,2),b=v[0],w=v[1],E=Object(a.useCallback)(function(){m.get().then(function(e){r(!0),w(e),f(!1)})},[r,w,f]),_=Object(a.useRef)(null);return Object(a.useEffect)(function(){return E()},[E]),o.a.createElement(o.a.Fragment,null,o.a.createElement(p.a,null),o.a.createElement("div",{className:"wrapper"},o.a.createElement("div",{className:"wrapper__inner"},o.a.createElement("div",{className:"notepad"},o.a.createElement("h1",{className:"notepad__heading"},"Todo List"),o.a.createElement("form",{className:"notepad__form",onSubmit:function(e){e.preventDefault();var n=_.current.value;if(!n)return p.b.error("Debe ingresar una tarea"),null;m.add(n).then(function(e){w(function(n){return[].concat(Object(i.a)(n),[e])})}),console.log(_.current.value)}},o.a.createElement("input",{ref:_,className:"notepad__form-input",placeholder:"Escrib\xed una tarea",id:"form-input"}),o.a.createElement("label",{className:"notepad__form-label",htmlFor:"form-input"},"Agregar un item")),t?o.a.createElement("ul",{className:"notepad__list"},b.map(function(e){return o.a.createElement("li",{className:"notepad__list-item",key:e._id},o.a.createElement("button",{className:Object(u.a)({done:e.completed}),onClick:(n=e._id,function(){console.log("clicked"),w(function(e){var t=e.findIndex(function(e){return e._id===n}),a=Object(l.a)({},e[t],{completed:!e[t].completed});return m.toggle(n,a.completed).then(E),[].concat(Object(i.a)(e.slice(0,t)),[a],Object(i.a)(e.slice(t+1,e.lengrh)))})}),type:"button"},e.name));var n})):o.a.createElement(g,null)))))},v=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function b(e,n){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(o.a.createElement(h,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var n="".concat("","/service-worker.js");v?(function(e,n){fetch(e).then(function(t){var a=t.headers.get("content-type");404===t.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):b(e,n)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(n,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):b(n,e)})}}()}},[[24,1,2]]]);
//# sourceMappingURL=main.51ebac30.chunk.js.map